{% extends "homeBase.html" %}
{% block extra_css %}
<style>
  h2 {
  text-align: center;
  margin-bottom: 25px;
  color: #333;
}

.orders-container {
  display: grid;
  grid-template-columns: repeat(2, 1fr); /* 2 orders per row */
  gap: 20px;
}

/* âŒ Fixed height hata do */
.orders-container-box {
  min-height: 70vh;   /* content ke hisaab se height le */
  margin-bottom: 40px; /* footer se thoda gap */
}

.order-card {
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
  padding: 20px;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.order-card:hover {
  transform: translateY(-6px);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
}

.order-header {
  display: flex;
  justify-content: space-between;
  margin-bottom: 12px;
}

.order-id {
  font-weight: 600;
  color: #4CAF50;
}

.order-status {
  padding: 5px 12px;
  border-radius: 20px;
  font-size: 14px;
  font-weight: 500;
}

.status-pending { background: #ffeb3b; color: #333; }
.status-shipped { background: #03a9f4; color: #fff; }
.status-delivered { background: #4caf50; color: #fff; }

/* âœ… Products inside order - 3 per row */
.order-items {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 15px;
  margin-top: 15px;
}

.order-item {
  background: #fafafa;
  border: 1px solid #eee;
  border-radius: 10px;
  padding: 10px;
  text-align: center;
  transition: 0.3s;
}

.order-item:hover {
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
}

.order-img img {
  width: 100%;
  max-height: 150px;
  object-fit: cover;
  border-radius: 8px;
}

.order-details {
  margin-top: 8px;
  font-size: 14px;
  color: #555;
  text-align: left;
}

.order-details p {
  margin: 4px 0;
}

.price {
  font-weight: bold;
  color: #e91e63;
}

img {
  width: 100px;
  height: 80px;
  object-fit: cover;
  border-radius: 8px;
}

</style>



{%endblock%}

{% block content %}
<div class="orders-container-box">
  <h2>My Orders</h2>
  <div class="orders-container">
    {% if not final_data %}
      <h2>Orders are empty..</h2>
    {% endif %}

    {% for order, items in final_data.items() %}
      <div class="order-card">
        <div class="order-header">
          <span class="order-id">#100{{ order[0] }}</span>
          <span class="order-date">ğŸ“… {{ order[1] }}</span>
          <span class="order-amount">ğŸ’° â‚¹{{ order[2] }}+GST(5%)</span>
          <span class="order-status status-shipped">Shipped</span>
        </div>

        <div class="order-items">
          {% for item in items %}
            <div class="order-item">
              <div class="order-img">
                <img src="{{ url_for('static', filename=item[3]) }}" alt="{{ item[0] }}">
              </div>
              <div class="order-details">
                <p>ğŸ“¦ Product: {{ item[0] }}</p>
                <p>ğŸ’µ Price: â‚¹{{ item[1] }}</p>
                <!-- <p>ğŸ“ {{ item[2] }}</p> -->
                <p>ğŸ”¢ Quantity: {{ item[4] }}</p>
                <p class="price">ğŸ’° SubTotal: â‚¹{{ item[5] }}</p>
              </div>
            </div>
          {% endfor %}
        </div>
      </div>
    {% endfor %}
  </div>
</div>
{% endblock %}
